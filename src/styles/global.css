@font-face {
  font-family: "Fira Code";
  src: url("/fonts/FiraCode-VariableFont_wght.ttf") format("truetype");
  font-weight: 300 700;
  font-display: swap;
}

@font-face {
  font-family: "Ancizar Serif";
  src: url("/fonts/AncizarSerif-VariableFont_wght.ttf");
  font-weight: 300 700;
  font-display: swap;
}

@font-face {
  font-family: "Inter";
  src: url("/fonts/Inter-VariableFont_opsz,wght.ttf");
  font-weight: 300 700;
  font-display: swap;
}

@import "tailwindcss";

@import "katex/dist/katex.min.css";

@theme {
  --background: 8 10 31;
  --text: 235 237 245;
  --accent: 199 46 49;
  --primary: 69 81 196;
  --secondary: 196 164 49;
  --neutral: 90 100 110;

  --color-background: rgb(var(--background));
  --color-accent: rgb(var(--accent));
  --color-primary: rgb(var(--primary));
  --color-secondary: rgb(var(--secondary));
  --color-text: rgb(var(--text));
  --color-neutral: rgb(var(--neutral));

  --font-fira: "Fira Code", ui-monospace, monospace;
  --font-serif: "Ancizar Serif"

  @keyframes zinzout {
    0%,
    100% {
      transform: scale(1);
    }
    90% {
      transform: scale(1.05);
    }
  }
  --animate-zinzout: zinzout 3s ease-in;
}

[data-theme="dark"] {
  --background: 8 10 31;
  --text: 235 237 245;
  --accent: 199 46 49;
  --primary: 69 81 196;
  --secondary: 196 164 49;
  --neutral: 90 100 110;
  --bg-vfx: 199 46 49;
  --color-background: rgb(var(--background));
  --color-accent: rgb(var(--accent));
  --color-primary: rgb(var(--primary));
  --color-secondary: rgb(var(--secondary));
  --color-text: rgb(var(--text));
  --color-neutral: rgb(var(--neutral));
}

[data-theme="light"] {
  --background: 247 248 250;
  --text: 26 28 43;
  --accent: 176 32 35;
  --primary: 58 70 168;
  --secondary: 166 133 31;
  --neutral: 62 91 74;
  --bg-vfx: 26 28 43;
  --color-background: rgb(var(--background));
  --color-accent: rgb(var(--accent));
  --color-primary: rgb(var(--primary));
  --color-secondary: rgb(var(--secondary));
  --color-text: rgb(var(--text));
  --color-neutral: rgb(var(--neutral));
}

html {
  font-family: Fira Code, system-ui, sans-serif;
  margin: 0;
  padding: 0;
  width: 100%;
  min-height: fit-content;
  height: 100%;
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  width: 100%;
  min-height: 100%;
  height: fit-content;
  overflow-y: auto;
  position: relative;
  color: rgb(var(--text));
  transition: background-color 0.1s ease, color 0.1s ease;
  background-color: rgb(var(--background));
}

body::after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  mix-blend-mode: multiply;
  opacity: 0.07;
  background: url("/static-background-texture.jpg") repeat center;
  pointer-events: none;
}

/* Ensure Shiki variables are applied to .astro-code blocks */
@media (prefers-color-scheme: dark) {
  .astro-code,
  .astro-code span {
    color: var(--shiki-dark) !important;
    background-color: var(--shiki-dark-bg) !important;
  }
}

[data-theme="dark"] .astro-code,
[data-theme="dark"] .astro-code span {
  color: var(--shiki-dark) !important;
  background-color: var(--shiki-dark-bg) !important;
}
[data-theme="light"] .astro-code,
[data-theme="light"] .astro-code span {
  color: var(--shiki-light) !important;
  background-color: var(--shiki-light-bg) !important;
}

.prose {
  line-height: 1.6;
  font-size: 1.056rem;
  font-family: "Inter";
}

/* headings */
.prose h1{
  font-size: 2.875rem; /* ~text-3xl */
  line-height: 1.25;
  font-weight: 700;
  margin-top: 0.75rem;
  margin-bottom: 0.75rem;
}

.prose h2{
  font-size: 1.5rem; /* ~text-2xl */
  font-weight: 700;
  margin-top: 0.75rem;
  margin-bottom: 0.5rem;
}

.prose h3{
  font-size: 1.25rem;
  font-weight: 600;
  margin-top: 0.75rem;
  margin-bottom: 0.5rem;
}

.prose p{
  margin: 0.5rem 0 0.75rem 0;
  color: rgb(var(--text));
}

.prose a{
  color: rgb(var(--primary));
  text-decoration: underline;
}

.prose ul{
  list-style: disc;
  margin-left: 1.25rem;
  margin-top: 0.5rem;
  margin-bottom: 0.75rem;
}

.prose ol{
  list-style: decimal;
  margin-left: 1.25rem;
  margin-top: 0.5rem;
  margin-bottom: 0.75rem;
}

.prose li{
  margin: 0.25rem 0;
}

code,
pre,
.astro-code {
  font-family: "Fira Code", ui-monospace, SFMono-Regular, Menlo, Monaco,
    "Roboto Mono", "Fira Code", monospace;
}

.prose code{
  background: rgba(0,0,0,0.06);
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  font-size: 0.95em;
}

.prose pre{
  margin: 0.75rem 0;
  padding: 0.75rem;
  border-radius: 0.375rem;
  overflow: auto;
  background: rgba(0,0,0,0.04);
}

[data-theme="dark"] .prose pre,
[data-theme="dark"] .astro-code {
  background: rgba(255,255,255,0.03);
}

.prose ul, .prose ol{
  list-style-position: inside;
}